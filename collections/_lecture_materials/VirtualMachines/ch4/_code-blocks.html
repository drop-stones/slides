<!-- 4.4.2 -->
{% assign source-4-27 = "
// Source
r4 = r6 + 1
r1 = r2 + r3  // redundant but may trap
r1 = r4 + r5
r6 = r1 + r7
" %}

{% assign target-4-27 = "
// Target
R4 = R6 + 1
// R1 = R2 + R3 // no trap occur
R1 = R4 + R5
R6 = R1 * R7
" %}

{% assign source-0-div ="
// Source (not handle devide-by-zero)
r1 = 0
r3 = r2 / r1  // devide-by-zero but no trap
" %}

{% assign target-0-div ="
// Target (handle devide-by-zero)
R1 = 0
R3 = R2 / R1  // devide-by-zero trap
" %}

{% assign source-4-28 = "
// Source 
1: r1 = r2 + r3
2: r9 = r1 + r5 // trap occurs
3: r6 = r1 * r7 // time consuming
4: r3 = r6 + 1
" %}

{% assign target-4-28 = "
// Target
1: R1 = R2 + R3
3: R6 = R1 * R7 // reordered
2: R9 = R1 + R5 // trap occurs
4: R3 = R6 + 1
" %}

{% assign target-with-saved-reg-4-28 = "
// Target with saved regs
1 : R1 = R2 + R3
3': S1 = R6 * R7  // S1 hold the computation result
2 : R9 = R1 + R5  // trap occurs
3 : R6 = S1       // R6 is updated in the original order
4 : R3 = S1 + 1
" %}

{% assign inconsistent-source-a = "
r1 = 100
br C
" %}
{% assign inconsistent-source-b = "
r1 = 200
br C
" %}
{% assign inconsistent-source-c = "
C:
  r5 = r4 + r1
  ...
" %}

{% assign inconsistent-reg-map-a = "
// Superblock A
// R1 <-> r1
R1 = 100
br C
" %}

{% assign consistent-reg-map-a = "
// Superblock A
// R1 <-> r1
R1 = 100;
R3 = R1   // R3 <-> r1
br C
" %}

{% assign inconsistent-reg-map-b = "
// Superblock B
// R2 <-> r1
R2 = 200
if cond, br C
" %}

{% assign consistent-reg-map-b = "
// Superblock B
// R2 <-> r1
R2 = 200
R3 = R2   // R3 <-> r1
if cond, br C
" %}

{% assign inconsistent-reg-map-c = "
// Superblock C
// R3 <-> r1
C:
  R5 = R4 + R3
  ...
" %}

{% assign consistent-source-d = "
R1 = 100
R10 = 200
br F
" %}
{% assign consistent-source-e = "
R1 = 300
R10 = 400
br F
" %}
{% assign consistent-source-f = "
F:
  R9 = R10 + R1
  ...
" %}

{% assign consistent-reg-map-d = "
// R1 <-> r1
// R10 <-> reg[10]
r1 = 100
reg[10] = 200
br F
" %}
{% assign consistent-reg-map-e = "
// R1 <-> r1
// R10 <-> reg[10]
r1 = 300
reg[10] = 400
br F
" %}
{% assign consistent-reg-map-f = "
// R9 <-> reg[9]
F:
  reg[9] = reg[10] + r1
  ...
" %}

<!-- 4.5.1 -->
{% assign code-seq = "
R1 = mem[R6]        // reg
R2 = mem[R6 + 4]    // reg
R3 = R1 + 1         // reg
R4 = R1 << 2        // reg
br exit if R7 == 0  // br
R7 = R7 + 1         // reg
mem[R6] = R3        // mem
" %}

{% assign reg-br-move = "
R1 = mem[R6]
R2 = mem[R6 + 4]
R3 = R1 + 1
br exit if R7 == 0
R4 = R1 << 2
R7 = R7 + 1
mem[R6] = R3
" %}

<!-- Appendix -->
{% assign ssa-form-ex-source = "
x = 100;    // def x (?)
x = 200;    // def x
y = x;      // use x
" %}

{% assign ssa-form-ex-ir = "
x1 = 100;   // def x1
x2 = 200;   // def x2
y1 = x2;    // use x2
" %}